<div class="component-demo">
  <a [id]="id"></a>
  <h2>
    <a [routerLink]="" [fragment]="id" ngbdFragment title="Anchor link to demo: {{id}}">
      <img src="img/link-symbol.svg" alt="Anchor link to: {{id}}" />
    </a>
    <span>{{ demoTitle }}</span>
    <button type="button" class="button secondary hollow margin-right-1 toggle-code" [class.active]="showCode"
      (click)="showCode = !showCode; trackShowCodeClick()">
      <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24">
        <path
          d="M24 10.935v2.131l-8 3.947v-2.23l5.64-2.783-5.64-2.79v-2.223l8 3.948zm-16 3.848l-5.64-2.783 5.64-2.79v-2.223l-8 3.948v2.131l8 3.947v-2.23zm7.047-10.783h-2.078l-4.011 16h2.073l4.016-16z" />
      </svg>
      <span class="margin-left-1">Code</span>
    </button>
    <a role="button" (click)="trackStackBlitzClick()" class="stackblitz button secondary hollow" target="_blank"
      href="/stackblitzes/{{component}}/{{id}}/stackblitz.html" title="Edit in StackBlitz">
      <img class="stackblitz-icon" src="img/stackblitz-icon.svg" alt="StackBlitz icon" />
      StackBlitz
    </a>
  </h2>
  <div>
    <div *ngIf="showCode" class="padding-1 tabs-code">
      <ngf-tabs  [class.d-flex]="hasManyFiles" [class.flex-row]="hasManyFiles"
        [orientation]="hasManyFiles ? 'vertical' : 'horizontal'">
        <ng-template [ngIf]="files" [ngIfElse]="old">
          <ngf-tab *ngFor="let file of files; index as index" id="{{component}}-{{file.name}}-{{index}}">
            <ng-template ngfTabTitle>
              <span class="text-truncate" [title]="tabType(file.name)">{{file.name}}</span>
            </ng-template>
            <ng-template ngfTabContent>
              <ngbd-code [code]="file.source" [lang]="file.name.split('.').pop()"></ngbd-code>
            </ng-template>
          </ngf-tab>
        </ng-template>

        <ng-template #old>
          <ngf-tab id="{{component}}-{{id}}-html">
            <ng-template ngfTabTitle>
              <span class="margin-left-1">{{component}}-{{id}}.html</span>
            </ng-template>
            <ng-template ngfTabContent>
              <ngbd-code [code]="markup" lang="html"></ngbd-code>
            </ng-template>
          </ngf-tab>
          <ngf-tab id="{{component}}-{{id}}-typescript">
            <ng-template ngfTabTitle>
              <span class="margin-left-1">{{component}}-{{id}}.ts</span>
            </ng-template>
            <ng-template ngfTabContent>
              <ngbd-code [code]="code" lang="typescript"></ngbd-code>
            </ng-template>
          </ngf-tab>
        </ng-template>
      </ngf-tabs>
    </div>
    <ng-content></ng-content>

  </div>
</div>
